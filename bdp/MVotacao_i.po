THEORY ProofList IS
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.6,(_f(43) & _f(60) & _f(46) & _f(59) & _f(53) => _f(63));
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.5,(_f(43) & _f(60) & _f(46) & _f(59) & _f(53) => _f(62));
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.4,(_f(43) & _f(60) & _f(46) & _f(59) & _f(53) => _f(54));
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.3,(_f(60) & _f(46) & _f(59) & _f(53) => _f(63));
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.2,(_f(60) & _f(46) & _f(59) & _f(53) => _f(62));
_f(1) & _f(2) & _f(4) & _f(5) & _f(55) & WellDefinedness_apurar_vencedor.1,(_f(60) & _f(46) & _f(59) & _f(53) => _f(54));
_f(1) & _f(2) & _f(4) & _f(5) & _f(24) & WellDefinedness_votar.2,(_f(25) & _f(26) & _f(27) & _f(53) => _f(54));
_f(1) & _f(2) & _f(4) & _f(5) & _f(24) & WellDefinedness_votar.1,(_f(25) & _f(26) & _f(53) => _f(54));
_f(1) & _f(2) & _f(4) & _f(5) & _f(42) & apurar_vencedor.4,(_f(45) & _f(39) => _f(47));
_f(1) & _f(2) & _f(4) & _f(5) & _f(42) & apurar_vencedor.3,(_f(45) & _f(39) => _f(46));
_f(1) & _f(2) & _f(4) & _f(5) & _f(42) & apurar_vencedor.2,(_f(45) & _f(43) & _f(39) => _f(47));
_f(1) & _f(2) & _f(4) & _f(5) & _f(42) & apurar_vencedor.1,(_f(45) & _f(43) & _f(39) => _f(46));
_f(1) & _f(2) & _f(4) & _f(5) & _f(3) & votar.3,(_f(29) & _f(8) & _f(15) & _f(11) & _f(10) & _f(17) & _f(30) & _f(31) & _f(32) & _f(33) & _f(34) & _f(39) => _f(26));
_f(1) & _f(2) & _f(4) & _f(5) & _f(3) & votar.2,(_f(29) & _f(8) & _f(15) & _f(11) & _f(10) & _f(17) & _f(30) & _f(31) & _f(32) & _f(33) & _f(34) & _f(28) & _f(25) & _f(26) & _f(27) & _f(35) & _f(36) => _f(38));
_f(1) & _f(2) & _f(4) & _f(5) & _f(3) & votar.1,(_f(29) & _f(8) & _f(15) & _f(11) & _f(10) & _f(17) & _f(30) & _f(31) & _f(32) & _f(33) & _f(34) & _f(25) & _f(26) & _f(27) & _f(28) & _f(35) & _f(36) => _f(37))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..3)*{ESTADO}): FIN(NATURAL*{ESTADO}) & not(((1..3)*{ESTADO}) = {}) & ((1..4)*{CPFs}): FIN(NATURAL*{CPFs}) & not(((1..4)*{CPFs}) = {}) & ((1..2)*{ZONAS}): FIN(NATURAL*{ZONAS}) & not(((1..2)*{ZONAS}) = {});
btrue;
((estado) : (((1..3)*{ESTADO}))) & ((eleitores) : (FIN(((1..4)*{CPFs})))) & ((candidatos) : (FIN(((1..4)*{CPFs})))) & ((local) : (((eleitores) +-> (((1..2)*{ZONAS}))))) & ((votos) : (((candidatos) +-> (NAT)))) & ((registro) : (((eleitores) +-> (BOOL)))) & !(aa).(((((aa) : (eleitores))) => (not(aa = (4|->CPFs))))) & !(ee).(((((ee) : (candidatos))) => (not(ee = (4|->CPFs))))) & !(ii).(((((ii) : (candidatos))) => (((ii) : (eleitores))))) & !(oo).(((((oo) : (ran(registro))) & ((estado) = ((1|->ESTADO)))) => (((oo) = (FALSE))))) & !(uu).(((((uu) : (ran(votos))) & ((estado) = ((1|->ESTADO)))) => (((uu) = (0)))));
((estado) = (estado$1)) & ((eleitores) = (eleitores$1)) & ((candidatos) = (candidatos$1)) & ((local) = (local$1)) & ((votos) = (votos$1)) & ((registro) = (registro$1));
((estado) = ((1|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & not(cpf : eleitores) & ((zona) : (((1..2)*{ZONAS}))) & not(cpf = (4|->CPFs));
((estado$1) = ((1|->ESTADO)));
((cpf) : (((1..4)*{CPFs})));
not(cpf : eleitores$1);
((zona) : (((1..2)*{ZONAS})));
not(cpf = (4|->CPFs));
((estado) = ((1|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & ((cpf) : (eleitores)) & not(cpf = (4|->CPFs));
((cpf) : (candidatos$1));
not(((cpf) : (candidatos$1)));
((cpf) : (eleitores$1));
((estado) = ((1|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & ((cpf) : (eleitores)) & ((cpf) : (dom(local))) & ((zona) : (((1..2)*{ZONAS}))) & not(zona = (local )(cpf)) & not(cpf = (4|->CPFs));
((cpf) : (dom(local$1)));
not(zona = (local$1 )(cpf));
((estado) = ((1|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & ((cpf) : (eleitores)) & not(cpf = (4|->CPFs)) & not(cpf : candidatos);
not(cpf : candidatos$1);
((estado) = ((1|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & ((cpf) : (eleitores)) & not(cpf = (4|->CPFs)) & ((cpf) : (candidatos));
((estado) = ((1|->ESTADO))) & not(candidatos = {});
not(candidatos$1 = {});
((estado) = ((2|->ESTADO))) & ((cpf) : (((1..4)*{CPFs}))) & ((cpf) : (eleitores)) & not(cpf = (4|->CPFs)) & ((zona) : (((1..2)*{ZONAS}))) & ((cpf) : (dom(local))) & ((cpf) : (dom(registro))) & ((zona) = ((local )(cpf))) & ((cpf_candidato) : (((1..4)*{CPFs}))) & ((cpf_candidato) : (((candidatos) \/ (({(4|->CPFs)}))))) & (((registro )(cpf)) = (FALSE));
((cpf_candidato) : (candidatos$1));
((cpf_candidato) : (dom(votos$1)));
((((votos$1 )(cpf_candidato) + 1)) : (NAT));
not(((cpf_candidato) : (candidatos$1)) & ((cpf_candidato) : (dom(votos$1))) & ((((votos$1 )(cpf_candidato) + 1)) : (NAT)));
((estado$1) = ((2|->ESTADO)));
((cpf) : (dom(registro$1)));
((zona) = ((local$1 )(cpf)));
((cpf_candidato) : (((1..4)*{CPFs})));
((cpf_candidato) : (((candidatos$1) \/ (({(4|->CPFs)})))));
(((registro$1 )(cpf)) = (FALSE));
"Refinement is correct";
"Check invariant ((votos) = (votos$1))";
((votos$1) = (((votos$1) <+ (({((cpf_candidato) |-> (((votos$1 )(cpf_candidato) + 1)))})))));
((((votos$1) <+ (({((cpf_candidato) |-> (((votos$1 )(cpf_candidato) + 1)))})))) = (votos$1));
"Instruction Well Definess";
((estado) = ((2|->ESTADO)));
((estado) = ((3|->ESTADO))) & ((resultado) = (resultado));
((resultado$1) = (resultado));
#(vencedor).(((vencedor) : (candidatos$1)) & ((vencedor) : (dom(votos$1))) & !(aa).(((((aa) : (candidatos$1)) & not(aa = vencedor)) => (((votos$1 )(aa) +1 <= (votos$1 )(vencedor))))) & ((SIGMA(ee).(((ee) : (ran(votos$1))) | ee) / 2) +1 <= (votos$1 )(vencedor)));
not(#(vencedor).(((vencedor) : (candidatos$1)) & ((vencedor) : (dom(votos$1))) & !(aa).(((((aa) : (candidatos$1)) & not(aa = vencedor)) => (((votos$1 )(aa) +1 <= (votos$1 )(vencedor))))) & ((SIGMA(ee).(((ee) : (ran(votos$1))) | ee) / 2) +1 <= (votos$1 )(vencedor))));
((estado$1) = ((3|->ESTADO)));
((vencedor) : (dom(votos$1)));
((aa) : (dom(votos$1)));
((votos) = (votos$1));
((local) = (local$1));
((candidatos) = (candidatos$1));
((eleitores) = (eleitores$1));
((estado) = (estado$1));
"Well definedness";
((votos$1) : (((dom(votos$1)) +-> (ran(votos$1)))));
((estado) = ((3|->ESTADO)));
((((aa) : (candidatos$1))) => (btrue));
((((aa) : (candidatos$1)) & not(aa = vencedor)) => (((vencedor) : (dom(votos$1))) & ((votos$1) : (((dom(votos$1)) +-> (ran(votos$1))))) & ((aa) : (dom(votos$1))) & ((votos$1) : (((dom(votos$1)) +-> (ran(votos$1)))))));
((ee) : (ran(votos$1)));
!(aa).(((((aa) : (candidatos$1)) & not(aa = vencedor)) => (((votos$1 )(aa) +1 <= (votos$1 )(vencedor)))));
((vencedor) : (candidatos$1));
((SIGMA(ee).(((ee) : (ran(votos$1))) | ee) / 2) +1 <= (votos$1 )(vencedor));
((SET(ee).(((ee) : (ran(votos$1))))) : (FIN(SET(ee).(((ee) : (ran(votos$1)))))));
not(((2) = (0)))
END
&
THEORY EnumerateX IS
CPFs == {cpf1,cpf2,cpf3,indefinido};
ESTADO == {preparacao,votacao,apuracao};
ZONAS == {zona1,zona2}
END
